<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <svg id="stage" version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg"></svg>

    <script src="/js/stage.js"></script>
    <script src="/js/world.js"></script>
    <script src="/js/character.js"></script>
    <script src="/js/vector.js"></script>
    <script src="/js/force.js"></script>

    <script>
        var weight = new Force('weight',
                               'green',
                               function(){return this.character.cog},
                               function(){return Vector.create(90, this.character.mass * this.character.world.gravity)}
                    );

        var thrust = new Force('thrust',
                               'blue',
                               function(){return Vector.create().setXY(10, 2.3)},
                               function(){return Vector.create(this.character.orientation, 2000)} );

        var plane = new Character('plane',
                             '/img/plane.png',
                             10, // width
                             5, // height
                             Vector.create().setXY(7.3, 2.3), // CoG
                             Vector.create().setXY(20, 10), // Position
                             60, // orientation
                             [weight, thrust], // forces
                             Vector.create(), // velocity
                             350, // mass in kg
                             0, // angular velocity
                             1); // moment of inertia

        var world = new World([plane]);

        var stage = new Stage('stage', world);

        var go = 1;
        var interval = 25;

        setInterval(
            function(){
                if(go){
                    world.update(interval/1000);
                    stage.render();
                }
            },
            interval
        );

    </script>
    
</body>
</html>